{# User card component for search results and user lists #}
{# Usage: {% set user = user_item %}{% set current_user_id = current_user_id %}{% set show_follow = True %}{% include "_user_card.html" %} #}
<div style="display: flex; align-items: center; gap: var(--space-4); padding: var(--space-3); border-bottom: 1px solid rgba(255,255,255,0.1);">
    {% set avatar_url = user.avatar %}
    {% set alt_text = user.name %}
    {% set avatar_class = 'avatar' %}
    {% include "__avatar.html" %}
    <div style="flex: 1;">
        <a href="{{ url_for('profile', profile_user_id=user.id) }}" style="color: var(--color-text); text-decoration: none; font-weight: 600; display: block;">{{ user.name }}</a>
        <p style="color: var(--color-text-muted); font-size: 0.85rem; margin: 0;">{{ user.email }}</p>
    </div>
    {% if show_follow and user.id != current_user_id %}
    <form method="POST" action="{{ url_for('toggle_follow', user_id=user.id) }}" style="display: inline;">
        <button type="submit" class="btn btn-small {% if user.get('is_following') %}btn-secondary{% endif %}">
            {% if user.get('is_following') %}Unfollow{% else %}Follow{% endif %}
        </button>
    </form>
    {% endif %}
</div>

